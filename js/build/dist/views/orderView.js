define(["text!templates/order.html"],function(e){var t=function(){};return t.loadActions=function(e){e.find(".increase_product").on("click",function(e){e.preventDefault();var t=$(this).attr("data-productid"),n=parseFloat($(this).closest("tr").find(".units").text()),r=parseFloat($("#final_price").text());require(["controllers/order"],function(e){e.updateProductUnits(t,n,r,!0)})}),e.find(".decrease_product").on("click",function(e){e.preventDefault();var t=$(this).attr("data-productid"),n=parseFloat($(this).closest("tr").find(".units").text()),r=parseFloat($("#final_price").text());require(["controllers/order"],function(e){e.updateProductUnits(t,n,r,!1)})}),e.find(".remove_product").on("click",function(e){e.preventDefault();var t=$(this).attr("data-productid");require(["controllers/order"],function(e){e.removeProduct(t)})})},t.printOrder=function(n){var r=$.map(n.getOrderProducts(),function(n,r){var i=$(e).clone();i.find(".product_name").text(n.getProduct().getName()),i.find(".units").text(n.getUnits()),i.find(".price").text(n.getPrice());var s=n.getProduct().getId();return i.find(".increase_product").attr("data-productid",s),i.find(".decrease_product").attr("data-productid",s),i.find(".remove_product").attr("data-productid",s),t.loadActions(i),i.get()});$("#store_products_list tr:first").before(r),$("#final_price").text(n.getPrice())},t.renderOrderProduct=function(e){var t=$("a[data-productid = "+e.getProduct().getId()+"]").closest("tr");t.find(".units").text(e.getUnits()),t.find(".price").text(e.getPrice())},t.removeOrderProduct=function(e){var t=$("a[data-productid = "+e+"]").closest("tr"),n=parseFloat($(t).find(".price").text());t.remove();var r=$("#final_price");$(r).text(parseFloat($(r).text())-n)},t.updateOrderPrice=function(e){$("#final_price").text(e.getPrice())},t.showError=function(e){alert(e)},t});